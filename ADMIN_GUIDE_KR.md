# 👑 엠파이어 도우미 관리자 시스템 가이드

## 1. 개요
본 시스템은 "디지털엠파이어 II 업무도우미"의 데이터(신청서, 영수증, 담당자, 문서)를 관리하기 위한 통합 어드민 대시보드입니다.
**주의**: 데이터 저장을 위해 파일 시스템을 사용하므로, 반드시 **Node.js 서버 환경(로컬 또는 전용 서버)**에서 실행되어야 합니다. GitHub Pages와 같은 정적 호스팅에서는 작동하지 않습니다.

---

## 2. 접속 및 로그인
- **접속 주소**: `http://localhost:3000/admin/login` (로컬 실행 시)
- **초기 슈퍼 관리자 계정**:
    - **ID**: `admin`
    - **PW**: `admin123!`

> [!IMPORTANT]
> 최초 로그인 후, 보안을 위해 비밀번호를 변경하거나 새로운 슈퍼 관리자 계정을 생성해 주세요.

---

## 3. 권한 체계 (Roles)
시스템은 두 가지 권한 레벨을 가집니다.

| 권한 | 역할 | 가능 기능 |
| :--- | :--- | :--- |
| **슈퍼 관리자 (SUPER_ADMIN)** | 시스템 총괄 | • 모든 데이터(신청서, 영수증, 담당자) 조회/추가/수정/**삭제**<br>• 관리자 계정 승인 및 관리<br>• PDF 문서 업로드 및 삭제<br>• 전체 데이터 백업(다운로드) |
| **일반 관리자 (MANAGER)** | 실무 담당 | • 신청서/영수증 조회 및 상태 변경<br>• (삭제 및 중요 설정 변경 불가) |

---

## 4. 주요 기능 사용법

### 4.1 대시보드 (Dashboard)
로그인 후 `/admin/dashboard`로 이동하며, 상단 탭을 통해 기능을 전환합니다.

### 4.2 온라인 신청서 관리 (Online Applications)
- **조회**: 접수된 모든 신청서를 최신순으로 확인합니다.
- **상태 변경**: `Pending`(대기) → `In Progress`(진행중) → `Done`(완료) 등으로 작업 상태를 변경할 수 있습니다.
- **삭제**: 슈퍼 관리자만 가능합니다.

### 4.3 영수증 및 결제 관리 (Receipts)
- **발급 내역**: 사용자가 출력한 영수증 내역을 볼 수 있습니다. (현재는 수동 발급 기록 위주)
- **수동 발급**: 주차비 외에 별도 영수증이 필요한 경우, '가맹점명, 금액, 카드정보'를 입력하여 전산에 등록할 수 있습니다.

### 4.4 담당자 연락처 관리 (Manager Contacts)
- 홈페이지에 노출되는 **담당자 정보(전화번호, 이메일)**를 관리합니다.
- 코드를 수정하지 않고 여기서 연락처를 변경하면, 일반 사용자 페이지에 즉시 반영됩니다. (연동 필요)

### 4.5 문서 관리 (Docs Management)
- **PDF 업로드**: AI가 참조할 새로운 안내문이나 규정 파일(`public/docs/` 폴더)을 업로드합니다.
- **삭제**: 더 이상 필요 없는 문서를 서버에서 삭제합니다.

### 4.6 관리자 계정 승인 (Admin Accounts) -- *슈퍼 관리자 전용*
- **회원가입 승인**: `/admin/register`를 통해 가입한 신규 관리자는 `Pending` 상태가 됩니다. 여기서 **[Approve]** 버튼을 눌러야 로그인이 가능해집니다.

---

## 5. 데이터 백업 (Backup)
- 슈퍼 관리자는 대시보드 우측 상단의 **[Backup All Data]** 버튼을 눌러, 현재 시스템의 모든 데이터(`admins`, `managers`, `applications`, `receipts`)를 하나의 `JSON` 파일로 다운로드할 수 있습니다.
- 주기적인 백업을 권장합니다.

---

## 6. 문제 해결
- **로그인이 안 돼요**: 계정이 승인되었는지 슈퍼 관리자에게 확인하세요.
- **데이터가 사라졌어요**: 서버 코드가 재배포되거나 파일이 초기화되었는지 확인하세요. 정기 백업본을 활용하세요.
